{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "description": "Ruleset for material is 'organism'.",
  "name": "faang_samples_organism.metadata_rules",
  "$async": true,
  "type": "object",
  "required": [
    "material",
    "project",
    "organism",
    "sex"
  ],
  "properties": {
    "describedBy": {
      "const": "https://github.com/FAANG/faang-metadata/blob/master/docs/faang_sample_metadata.md"
    },
    "schema_version": {
      "description": "The version number of the schema in major.minor.patch format.",
      "type": "string",
      "pattern": "^[0-9]{1,}.[0-9]{1,}.[0-9]{1,}$",
      "example": "4.6.1"
    },
    "sample_description": {
      "type": "object",
      "name": "Sample Description",
      "description": "A brief description of the sample including species name.",
      "required": ["value"],
      "properties": {
        "value": {
          "type": "string"
        },
        "mandatory": {
          "const": "optional"
        }
      }
    },
    "material": {
      "type": "object",
      "name": "Material",
      "description": "The type of material being described.",
      "required": ["text", "term"],
      "properties": {
        "text": {
          "type": "string",
          "enum": [
            "organism",
            "specimen from organism",
            "cell specimen",
            "single cell specimen",
            "pool of specimens",
            "cell culture",
            "cell line",
            "organoid",
            "restricted access"
          ]
        },
        "term": {
          "type": "string",
          "enum": [
            "OBI:0100026",
            "OBI:0001479",
            "OBI:0001468",
            "OBI:0002127",
            "OBI:0302716",
            "OBI:0001876",
            "CLO:0000031",
            "NCIT:C172259",
            "restricted access"
          ]
        },
        "mandatory": {
          "const": "mandatory"
        },
        "ontology_name": {
          "const": "OBI"
        },
        "_comment": {
          "const": "Covers organism, specimen from organism, cell specimen, pool of specimens, cell culture, cell line, organoid."
        }
      }
    },
    "project": {
      "type": "object",
      "name": "Project",
      "description": "State that the project is 'FAANG'.",
      "required": ["value"],
      "properties": {
        "value": {
          "const": "FAANG"
        },
        "mandatory": {
          "const": "mandatory"
        }
      }
    },
    "secondary_project": {
      "type": "array",
      "name": "Secondary project",
      "description": "State the secondary project(s) that this data belongs to e.g. 'AQUA-FAANG', 'GENE-SWitCH' or 'BovReg'. Please use your official consortium shortened acronym if available. If your secondary project is not in the list, please contact the faang-dcc helpdesk to have it added. If your project uses the FAANG data portal project slices (https://data.faang.org/projects) then this field is required to ensure that your data appears in the data slice.",
      "items": {
        "type": "object",
        "required": ["value"],
        "properties": {
          "value": {
            "type": "string",
            "enum": [
              "AQUA-FAANG",
              "BovReg",
              "GENE-SWitCH",
              "Bovine-FAANG",
              "EFFICACE",
              "GEroNIMO",
              "RUMIGEN",
              "Equine-FAANG",
              "Holoruminant",
              "USPIGFAANG"
            ]
          }
        },
        "mandatory": {
          "const": "optional"
        }
      }
    },
    "availability": {
      "type": "object",
      "name": "Availability",
      "description": "Either a link to a web page giving information on sample availability (who to contact and if the sample is available), or a e-mail address to contact about availability. E-mail addresses should be prefixed with 'mailto:', e.g. 'mailto:samples@example.ac.uk'. In either case, long term support of the web page or e-mail address is necessary. Group e-mail addresses are preferable to indiviudal.",
      "required": ["value"],
      "properties": {
        "value": {
          "type": "string",
          "format": "uri"
        },
        "mandatory": {
          "const": "optional"
        }
      }
    },
    "same_as": {
      "type": "object",
      "name": "Same as",
      "description": "BioSample ID for an equivalent sample record, created before the FAANG metadata specification was available. This is optional and not intended for general use, please contact the data coordination centre (faang-dcc@ebi.ac.uk) before using it.",
      "required": ["value"],
      "properties": {
        "value": {
          "type": "string"
        },
        "mandatory": {
          "const": "optional"
        }
      }
    },
    "organism": {
      "type": "object",
      "name": "Organism",
      "description": "NCBI taxon ID of organism.",
      "required": ["text", "term"],
      "properties": {
        "text": {
          "type": "string"
        },
        "term": {
          "oneOf": [
            {
              "type": "string",
              "graph_restriction": {
                "ontologies": ["obo:ncbitaxon"],
                "classes": ["NCBITaxon:1"],
                "relations": ["rdfs:subClassOf"],
                "direct": false,
                "include_self": false
              }
            },
            {
              "const": "restricted access"
            }
          ]
        },
        "mandatory": {
          "const": "mandatory"
        },
        "ontology_name": {
          "const": "NCBITaxon"
        }
      }
    },
    "sex": {
      "type": "object",
      "name": "Sex",
      "description": "Animal sex, described using any child term of PATO_0000047.",
      "required": ["text", "term"],
      "properties": {
        "text": {
          "type": "string"
        },
        "term": {
          "oneOf": [
            {
              "type": "string",
              "graph_restriction": {
                "ontologies": ["obo:pato"],
                "classes": ["PATO:0000047"],
                "relations": ["rdfs:subClassOf"],
                "direct": false,
                "include_self": false
              }
            },
            {
              "const": "restricted access"
            }
          ]
        },
        "mandatory": {
          "const": "mandatory"
        },
        "ontology_name": {
          "const": "PATO"
        }
      }
    },
    "birth_date": {
      "type": "object",
      "name": "birth date",
      "description": "Birth date, in the format YYYY-MM-DD, or YYYY-MM where only the month is known. For embryo samples record 'not applicable'.",
      "required": ["value", "units"],
      "properties": {
        "value": {
          "type": "string",
          "oneOf": [
            {
              "pattern": "^[12]\\d{3}-(0[1-9]|1[0-2])-(0[1-9]|[12]\\d|3[01])|[12]\\d{3}-(0[1-9]|1[0-2])|[12]\\d{3}$"
            },
            {
              "enum": [
                "not applicable",
                "not collected",
                "not provided",
                "restricted access"
              ]
            }
          ]
        },
        "mandatory": {
          "const": "recommended"
        },
        "units": {
          "type": "string",
          "enum": [
            "YYYY-MM-DD",
            "YYYY-MM",
            "YYYY",
            "not applicable",
            "not collected",
            "not provided",
            "restricted access"
          ]
        }
      }
    },
    "breed": {
      "type": "object",
      "name": "breed",
      "description": "Animal breed, described using the FAANG breed description guidelines (http://bit.ly/FAANGbreed). Should be considered mandatory for terrestiral species, for aquatic species record 'not applicable'.",
      "required": ["text", "term"],
      "properties": {
        "text": {
          "type": "string"
        },
        "term": {
          "oneOf": [
            {
              "type": "string",
              "graph_restriction": {
                "ontologies": ["obo:lbo"],
                "classes": ["LBO:0000000"],
                "relations": ["rdfs:subClassOf"],
                "direct": false,
                "include_self": false
              }
            },
              {
                "type": "string",
                "enum": [
                  "not applicable",
                  "restricted access"
                ]
              }
          ]
        },
        "mandatory": {
          "const": "recommended"
        },
        "ontology_name": {
          "const": "LBO"
        }
      }
    },
    "health_status": {
      "type": "array",
      "name": "health status",
      "description": "Healthy animals should have the term normal, otherwise use the as many disease terms as necessary from EFO.",
      "items": {
        "type": "object",
        "required": ["text", "term"],
        "properties": {
          "text": {
            "type": "string"
          },
          "term": {
            "oneOf": [
              {
                "type": "string",
                "graph_restriction": {
                  "ontologies": ["obo:pato", "obo:efo"],
                  "classes": ["PATO:0000461", "EFO:0000408"],
                  "relations": ["rdfs:subClassOf"],
                  "direct": false,
                  "include_self": true
                }
              },
              {
                "type": "string",
                "enum": [
                  "not applicable",
                  "not collected",
                  "not provided",
                  "restricted access"
                ]
              }
            ]
          },
          "mandatory": {
            "const": "recommended"
          },
          "ontology_name": {
            "type": "string",
            "enum": ["PATO", "EFO"]
          }
        }
      }
    },
    "diet": {
      "type": "object",
      "name": "diet",
      "description": "Organism diet summary, more detailed information will be recorded in the associated protocols. Particuarly important for projects with controlled diet treatements. Free text field, but ensure standardisation within each study.",
      "required": ["value"],
      "properties": {
        "value": {
          "type": "string"
        },
        "mandatory": {
          "const": "optional"
        }
      }
    },
    "birth_location": {
      "type": "object",
      "name": "birth location",
      "description": "Name of the birth location.",
      "required": ["value"],
      "properties": {
        "value": {
          "type": "string"
        },
        "mandatory": {
          "const": "optional"
        }
      }
    },
    "birth_location_latitude": {
      "type": "object",
      "name": "birth location latitude",
      "description": "Latitude of the birth location in decimal degrees.",
      "required": ["value", "units"],
      "properties": {
        "value": {
          "type": "number"
        },
        "units": {
          "const": "decimal degrees"
        },
        "mandatory": {
          "const": "optional"
        }
      }
    },
    "birth_location_longitude": {
      "type": "object",
      "name": "birth location longitude",
      "description": "Longitude of the birth location in decimal degrees.",
      "required": ["value", "units"],
      "properties": {
        "value": {
          "type": "number"
        },
        "units": {
          "const": "decimal degrees"
        },
        "mandatory": {
          "const": "optional"
        }
      }
    },
    "birth_weight": {
      "type": "object",
      "name": "birth weight",
      "description": "Birth weight, in kilograms or grams.",
      "required": ["value", "units"],
      "properties": {
        "value": {
          "type": "number"
        },
        "units": {
          "type": "string",
          "enum": ["kilograms", "grams"]
        },
        "mandatory": {
          "const": "optional"
        }
      }
    },
    "placental_weight": {
      "type": "object",
      "name": "placental weight",
      "description": "Placental weight, in kilograms or grams.",
      "required": ["value", "units"],
      "properties": {
        "value": {
          "type": "number"
        },
        "units": {
          "type": "string",
          "enum": ["kilograms", "grams"]
        },
        "mandatory": {
          "const": "optional"
        }
      }
    },
    "pregnancy_length": {
      "type": "object",
      "name": "pregnancy length",
      "description": "Pregnancy length of time, in days, weeks or months.",
      "required": ["value", "units"],
      "properties": {
        "value": {
          "type": "number"
        },
        "units": {
          "type": "string",
          "enum": ["days", "weeks", "months", "day", "week", "month"]
        },
        "mandatory": {
          "const": "optional"
        }
      }
    },
    "delivery_timing": {
      "type": "object",
      "name": "delivery timing",
      "description": "Was pregnancy full-term. early or delayed.",
      "required": ["value"],
      "properties": {
        "value": {
          "type": "string",
          "enum": [
            "early parturition",
            "full-term parturition",
            "delayed parturition"
          ]
        },
        "mandatory": {
          "const": "optional"
        }
      }
    },
    "delivery_ease": {
      "type": "object",
      "name": "delivery ease",
      "description": "Did the delivery require assistance.",
      "required": ["value"],
      "properties": {
        "value": {
          "type": "string",
          "enum": [
            "normal autonomous delivery",
            "c-section",
            "veterinarian assisted"
          ]
        },
        "mandatory": {
          "const": "optional"
        }
      }
    },
    "pedigree": {
      "type": "object",
      "name": "Pedigree",
      "description": "A link to pedigree information for the animal.",
      "required": ["value"],
      "properties": {
        "value": {
          "type": "string",
          "format": "uri"
        },
        "mandatory": {
          "const": "optional"
        }
      }
    },
    "child_of": {
      "type": "array",
      "minItems": 1,
      "maxItems": 2,
      "name": "Child of",
      "description": "Sample name or Biosample ID for sire/dam. Required if related animals are part of FAANG, e.g. quads.",
      "items": {
        "type": "object",
        "required": ["value"],
        "properties": {
          "value": {
            "type": "string"
          },
          "mandatory": {
            "const": "optional"
          }
        }
      }
    }
  }
}